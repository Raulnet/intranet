{% extends('@FfjvBo/layout.html.twig') %}
    {% set clubsMenu = true %}
    {% block breadcrumb %}
        <h1>
            {{ club.title }}
        </h1>
        <ol class="breadcrumb">
            <li><a href="{{ path('ffjv_fo_home_index') }}"><i class="fa fa-home"></i> Home</a></li>
            <li><a href="{{ path('ffjv_bo_home_index') }}"><i class="fa fa-cogs"></i> Administration</a></li>
            <li><a href="{{ path('clubs') }}"><i class="fa fa-institution"></i> clubs</a></li>
            <li class="active">{{ club.title }}</li>
        </ol>
    {% endblock %}
    {% block content %}
        <section class="content">
            <div class="row">
                <div class="col-md-3">
                    <div class="box box-primary">
                        <div class="box-body box-profile">
                            <img class="profile-user-img img-responsive img-circle" src="{{ asset('public/img/logo/logo_ffjv.png') }}" alt="User profile picture">
                            <h3 class="profile-username text-center">{{ club.title }} - {{ club.tag }}</h3>
                            {% if club.licence %}<p class="text-muted text-center">Licence: {{ club.licence }}</p>{% endif %}
                            <p class="text-muted text-center">RNA {{ club.rna }}</p>
                            <ul class="list-group list-group-unbordered">
                                <li class="list-group-item">
                                    <b>Author</b><a class="pull-right">{{ club.user.firstname }} {{ club.user.lastname }}</a>
                                </li>
                                <li class="list-group-item">
                                    <b>Membres</b><a class="pull-right">{{ club.members|length }}</a>
                                </li>
                                <li class="list-group-item">
                                    <b>Teams</b><a class="pull-right"><span class="badge bg-light-blue-active">{{ club.teams|length }}</span> </a>
                                </li>
                                <li class="list-group-item">
                                    <b>Ligues</b><a class="pull-right"><span class="badge bg-light-blue-active">{{ club.ligues|length }}</span> </a>
                                </li>
                            </ul>
                            <button type="button" class="btn btn-primary btn-block" data-toggle="modal" data-target="#contactClub">
                                Contact - Club
                            </button>

                            <div class="modal fade" id="contactClub" tabindex="-1" role="dialog" aria-labelledby="contactClub">
                                <div class="modal-dialog" role="document">
                                    <div class="modal-content">
                                        <div class="modal-header">
                                            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                                            <h4 class="modal-title" id="myModalLabel">Contact Club {{ club.title }}</h4>
                                        </div>
                                        <div class="modal-body">
                                            {{ form_start(contact_form) }}
                                            <div class="form-group">
                                                {{ form_label(contact_form.subject) }}
                                                {{ form_widget(contact_form.subject, {'attr': {'class': 'form-control'}}) }}
                                            </div>
                                            <div class="form-group">
                                                {{ form_label(contact_form.content) }}
                                                {{ form_widget(contact_form.content, {'attr': {'class': 'form-control'}}) }}
                                            </div>
                                        </div>
                                        <div class="modal-footer">
                                            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                                            {{ form_widget(contact_form.submit, {'attr': {'class': 'btn btn-primary'}}) }}
                                        </div>
                                        {{ form_end(contact_form) }}
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="box box-primary">
                        <div class="box-header with-border">
                            <h3 class="box-title">About club</h3>
                        </div>
                        <div class="box-body">
                            <strong><i class="fa fa-envelope margin-r-5"></i> Contact</strong>
                            <p class="text-muted">{{ club.email }}</p>
                            <hr>
                            <strong><i class="fa fa-map-marker margin-r-5"></i> Location</strong>

                            <p class="text-muted">
                                {{ club.address1 }}<br/>
                                {{ club.address2 }}<br/>
                                {{ club.zipcode }}, {{ club.city }}</p>
                            <hr>
                            <strong><i class="fa fa-file-text-o margin-r-5"></i> Notes</strong>
                            <p class="text-muted">
                                {{ club.about }}
                            </p>

                        </div>
                    </div>
                </div>
                <div class="col-md-9">
                    <div class="nav-tabs-custom">
                        <ul class="nav nav-tabs">
                            <li><a href="#members" data-toggle="tab">Membres</a></li>
                            <li><a href="#teams" data-toggle="tab">Teams</a></li>
                            <li><a href="#ligues" data-toggle="tab">Ligues</a></li>
                            <li class="active"><a href="#settings" data-toggle="tab" aria-expanded="true">Settings</a></li>
                        </ul>
                        <div class="tab-content">
                            <div class="tab-pane" id="ligues">
                                <div class="box">
                                    <div class="box-header">
                                        <h3 class="box-title">Ligue</h3>
                                    </div>
                                    <div class="box-body">
                                        <table id="teams_board" class="table table-bordered table-striped">
                                            <thead>
                                            <tr>
                                                <th>Title</th>
                                                <th>Tag</th>
                                                <th>clubs</th>
                                                <th>action</th>
                                            </tr>
                                            </thead>
                                            <tbody>
                                            {% for ligue in club.ligues %}
                                                <tr>
                                                    <td><a href="{{ path('ligues_show', { 'id': ligue.id }) }}">{{ ligue.title }}</a></td>
                                                    <td>{{ ligue.tag }}</td>
                                                    <td>{{ ligue.clubs|length }}</td>
                                                    <td><button type="button" class="btn btn-info btn-xs" href="#" data-toggle="modal" data-target="#contact{{ ligue.id }}">contact</button> </td>
                                                    <div class="modal fade" id="contact{{ ligue.id }}" tabindex="-1" role="dialog" aria-labelledby="{{ ligue.tag }}">
                                                        <div class="modal-dialog" role="document">
                                                            <div class="modal-content">
                                                                <div class="modal-header">
                                                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                                                                    <h4 class="modal-title" id="myModalLabel">contacter {{ ligue.title }}</h4>
                                                                </div>
                                                                <div class="modal-body">
                                                                    ...
                                                                </div>
                                                                <div class="modal-footer">
                                                                    <button type="button" class="btn btn-default" data-dismiss="modal">Annuler</button>
                                                                    <button type="button" class="btn btn-primary">Envoyer message</button>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </tr>
                                            {% endfor %}
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                            <div class="tab-pane" id="members">
                                <div class="row">
                                    <div class="col-xs-12">
                                        <div class="box">
                                            <div class="box-header">
                                                <h3 class="box-title">Members Board</h3>{% if club in app.user.clubs %}<a class="btn btn-info btn-xs pull-right" href="{{ path('fo_clubs_newmembers',{'clubId': club.id}) }}">Create a new Member</a>{% endif %}
                                            </div>
                                            <div class="box-body">
                                                <table id="teams_board" class="table table-bordered table-striped">
                                                    <thead>
                                                    <tr>
                                                        <th>#</th>
                                                        <th>Username</th>
                                                        <th>Licence</th>
                                                        <th>Roles</th>
                                                        <th>Creationdate</th>
                                                        <th>Lastupdate</th>
                                                        <th>Authors</th>
                                                    </tr>
                                                    </thead>
                                                    <tbody>
                                                    {% for member in members %}
                                                        <tr>
                                                            <td>
                                                                {% if member.user.status %}
                                                                    <i style="color: green;" class="fa fa-check fa-lg"></i>
                                                                {% else %}
                                                                    <i style="color: red;" class="fa fa-close fa-lg"></i>
                                                                {% endif %}
                                                            </td>
                                                            <td>{{ member.user }}</td>
                                                            <td>{{ member.user.licence }}</td>
                                                            <td>
                                                                <ul class="list-group">
                                                                    {% for role in member.roles %}
                                                                        <li class="list-group-item">{{ role|rolesMember }}</li>
                                                                    {% endfor %}
                                                                </ul>
                                                            </td>
                                                            <td>{{ member.user.registerDate|date('Y-m-d H:i:s') }}</td>
                                                            <td>{{ member.user.lastUpdate|date('Y-m-d H:i:s') }}</td>
                                                            <td>{{ member.user.authorUser }}</td>
                                                        </tr>
                                                    {% endfor %}
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="tab-pane" id="teams">
                                <div class="row">
                                    <div class="col-xs-12">
                                        <div class="box">
                                            <div class="box-header">
                                                <h3 class="box-title">Teams Board</h3><a class="btn btn-info btn-xs pull-right" href="{{ path('teams_new',{'clubId': club.id}) }}">Create a new teams</a>
                                            </div>
                                            <div class="box-body">
                                                <table id="teams_board" class="table table-bordered table-striped">
                                                    <thead>
                                                    <tr>
                                                        <th>Title</th>
                                                        <th>Tag</th>
                                                        <th>Licence</th>
                                                        <th>Creationdate</th>
                                                        <th>Lastupdate</th>
                                                        <th>Authors</th>
                                                    </tr>
                                                    </thead>
                                                    <tbody>
                                                    {% for team in club.teams %}
                                                        <tr>
                                                            <td><a href="{{ path('teams_show', { 'id': team.id }) }}">{{ team.title }}</a></td>
                                                            <td>{{ team.tag }}</td>
                                                            <td>{{ team.licence }}</td>
                                                            <td>{% if team.creationDate %}{{ team.creationDate|date('Y-m-d H:i:s') }}{% endif %}</td>
                                                            <td>{% if team.lastUpdate %}{{ team.lastUpdate|date('Y-m-d H:i:s') }}{% endif %}</td>
                                                            <td>
                                                                <a href="{{ path('user_show', {'id': team.user.id}) }}">{{ team.user }}</a>
                                                            </td>
                                                        </tr>
                                                    {% endfor %}
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="tab-pane active" id="settings">
                                <div class="row">
                                    <div class="col-sm-12">
                                        <div class="box box-primary collapsed-box">
                                            <div class="box-header with-border">
                                                <h3 class="box-title">Coordonées</h3>
                                                <div class="box-tools pull-right">
                                                    <button class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-plus"></i></button>
                                                </div>
                                            </div>
                                            <div class="box-body">
                                                {{ form_start(edit_form, {'attr': {'class': 'form-horizontal'}}) }}
                                                <div class="form-group">
                                                    {{ form_label(edit_form.title, null, { 'label_attr': {'class': 'control-label col-sm-2'} }) }}
                                                    <div class="col-sm-10">
                                                        {{ form_widget(edit_form.title) }}
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    {{ form_label(edit_form.tag, null, { 'label_attr': {'class': 'control-label col-sm-2'} }) }}
                                                    <div class="col-sm-10">
                                                        {{ form_widget(edit_form.tag) }}
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    {{ form_label(edit_form.rna, null, { 'label_attr': {'class': 'control-label col-sm-2'} }) }}
                                                    <div class="col-sm-10">
                                                        {{ form_widget(edit_form.rna) }}
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    {{ form_label(edit_form.siren, null, { 'label_attr': {'class': 'control-label col-sm-2'} }) }}
                                                    <div class="col-sm-10">
                                                        {{ form_widget(edit_form.siren) }}
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    {{ form_label(edit_form.siret, null, { 'label_attr': {'class': 'control-label col-sm-2'} }) }}
                                                    <div class="col-sm-10">
                                                        {{ form_widget(edit_form.siret) }}
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    {{ form_label(edit_form.ape, null, { 'label_attr': {'class': 'control-label col-sm-2'} }) }}
                                                    <div class="col-sm-10">
                                                        {{ form_widget(edit_form.ape) }}
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    {{ form_label(edit_form.email, null, { 'label_attr': {'class': 'control-label col-sm-2'} }) }}
                                                    <div class="col-sm-10">
                                                        {{ form_widget(edit_form.email) }}
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    {{ form_label(edit_form.telFix, null, { 'label_attr': {'class': 'control-label col-sm-2'} }) }}
                                                    <div class="col-sm-10">
                                                        {{ form_widget(edit_form.telFix) }}
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    {{ form_label(edit_form.telMobile, null, { 'label_attr': {'class': 'control-label col-sm-2'} }) }}
                                                    <div class="col-sm-10">
                                                        {{ form_widget(edit_form.telMobile) }}
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    {{ form_label(edit_form.country, null, { 'label_attr': {'class': 'control-label col-sm-2'} }) }}
                                                    <div class="col-sm-10">
                                                        {{ form_widget(edit_form.country) }}
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    {{ form_label(edit_form.address1, null, { 'label_attr': {'class': 'control-label col-sm-2'} }) }}
                                                    <div class="col-sm-10">
                                                        {{ form_widget(edit_form.address1) }}
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    {{ form_label(edit_form.address2, null, { 'label_attr': {'class': 'control-label col-sm-2'} }) }}
                                                    <div class="col-sm-10">
                                                        {{ form_widget(edit_form.address2) }}
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    {{ form_label(edit_form.zipCode, null, { 'label_attr': {'class': 'control-label col-sm-2'} }) }}
                                                    <div class="col-sm-10">
                                                        {{ form_widget(edit_form.zipCode) }}
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    {{ form_label(edit_form.city, null, { 'label_attr': {'class': 'control-label col-sm-2'} }) }}
                                                    <div class="col-sm-10">
                                                        {{ form_widget(edit_form.city) }}
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    {{ form_label(edit_form.about, null, { 'label_attr': {'class': 'control-label col-sm-2'} }) }}
                                                    <div class="col-sm-10">
                                                        {{ form_widget(edit_form.about) }}
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    {{ form_label(edit_form.ligues, null, { 'label_attr': {'class': 'control-label col-sm-2'} }) }}
                                                    <div class="col-sm-10">
                                                        {{ form_widget(edit_form.ligues) }}
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <div class="col-sm-10 col-sm-offset-2">
                                                        {{ form_widget(edit_form.submit, {'attr': {'class': 'btn btn-success col-sm-6'}}) }}
                                                    </div>
                                                </div>
                                                {{ form_end(edit_form) }}
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-sm-12">
                                        <div class="box box-primary collapsed-box">
                                            <div class="box-header with-border">
                                                <h3 class="box-title">Weezevent Api Log</h3>
                                                <div class="box-tools pull-right">
                                                    <button class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-plus"></i></button>
                                                </div>
                                            </div>
                                            <div class="box-body">
                                                {{ form_start(weezevent_api_form) }}
                                                {{ form_end(weezevent_api_form) }}
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    {% endblock %}
{% block customCSS %}
    <link type="text/css" rel="stylesheet" href="{{ asset('public/lib/bootstrap-switch/css/bootstrap-switch.min.css') }}">
    <link rel="stylesheet" type="text/css" href="{{ asset('public/css/Bo/Clubs/show.css') }}">
{% endblock %}
{% block customJS %}

{% endblock %}
